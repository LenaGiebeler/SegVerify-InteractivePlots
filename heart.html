<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Heart</title>
  <style>
    :root{
      --bg:#ffffff; --fg:#1f2937; --muted:#6b7280;
      --panel:#f3f6fb; --card:#ffffff; --border:#e5e7eb;
      --shadow:0 1px 3px rgba(0,0,0,.06), 0 6px 20px rgba(0,0,0,.05);
    }
    *{box-sizing:border-box}
    body{margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--fg)}

    header{padding:24px 20px 8px; text-align:center}
    header h1{margin:0 0 6px; font-size:28px; font-weight:700}
    
    header p.lead {
    margin:8px auto 14px;
    color:var(--muted);
    max-width: 1600px;
    }

    .subnav a {
    color:var(--fg);
    text-decoration:underline;
    text-underline-offset:3px;
    margin:0 .5rem;
    }
    .subnav a:hover { color:#0f172a; }

    .subnav a.active {
    font-weight:700;
    text-decoration:none; 
    cursor:default;
    }


    .section{margin:22px; padding:18px; background:linear-gradient(180deg, rgba(238,243,252,.65), rgba(245,248,255,.65)); border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow)}
    .section h2{margin:0 4px 14px; font-size:20px}

    .grid{display:grid; gap:18px; grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}

    .card{display:flex; flex-direction:column; background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden; min-height:320px; box-shadow:var(--shadow)}
    .card header{display:flex; align-items:center; justify-content:space-between; padding:10px 12px 8px; background:#fff; border-bottom:1px solid var(--border)}
    .card h3{margin:0; font-size:15px; font-weight:600}
    .btn{appearance:none; border:1px solid var(--border); background:#fff; color:var(--fg); font-size:13px; padding:6px 10px; border-radius:10px; cursor:pointer}
    .btn:hover{border-color:#cbd5e1; background:#f1f5f9}

    .frame-wrap{position:relative; overflow:hidden; background:#fff; min-height:320px}
    .frame-wrap iframe{width:100%; height:100%; border:0; display:block}
    footer{color:var(--muted); padding:24px 20px 40px; text-align:center}
  </style>
</head>
<body>
    <header style="position:relative">
        <!-- Back button (links oben) -->
        <a class="back-btn" href="index.html" title="Back to Home"
           style="position:absolute; top:20px; left:20px; display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:10px; border:1px solid var(--border); background:#fff; text-decoration:none;">
          <svg viewBox="0 0 24 24" fill="none" stroke="#374151" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:18px; height:18px">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </a>
      
        <h1>Heart</h1>
      
        <p class="lead">
          The heart plots shows only moderate agreement when all models are included, mainly because CADS follows a different anatomical definition. Once CADS is excluded, the remaining models show good agreement with Dice scores above 95% and consensus volume agreement exceeding 90%.
        </p>
      
        <!-- gleiche Navigation wie auf der Startseite; Heart ist aktiv -->
        <nav class="subnav" aria-label="Section navigation">
          <a href="index.html">Home</a> |
          <a href="heart.html" class="active">Heart</a> |
          <a href="ribs.html">Ribs</a> |
          <a href="vertebrae.html">Vertebrae</a> |
          <a href="sternum.html">Sternum</a>
        </nav>
      </header>

  <!-- All models -->
  <section class="section">
    <h2>Agreement between Auto3DSeg, MultiTalent, CADS, and TotalSegmentator 2.6</h2>
    <div class="grid">
      <div class="card">
        <header><h3>Volume</h3><button class="btn" onclick="openPlot('volume_plots/Overlap_percent_of_model_volumes_grouped_heart.html')">Open</button></header>
        <div class="frame-wrap">
          <iframe data-autoscale src="volume_plots/Overlap_percent_of_model_volumes_grouped_heart.html" title="Heart Volume (all)"></iframe>
        </div>
      </div>
      <div class="card">
        <header><h3>Dice</h3><button class="btn" onclick="openPlot('dice_plots/Dice_scatter_interactive_heart.html')">Open</button></header>
        <div class="frame-wrap">
          <iframe data-autoscale src="dice_plots/Dice_scatter_interactive_heart.html" title="Heart Dice (all)"></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- Without CADS -->
  <section class="section">
    <h2>Agreement between Auto3DSeg, MultiTalent, and TotalSegmentator 2.6 (<strong>NO</strong> CADS)</h2>
    <div class="grid">
      <div class="card">
        <header><h3>Volume</h3><button class="btn" onclick="openPlot('volume_plots/Exclude_Models/Overlap_percent_of_model_volumes_grouped_heart_no_CADS.html')">Open</button></header>
        <div class="frame-wrap">
          <iframe data-autoscale src="volume_plots/Exclude_Models/Overlap_percent_of_model_volumes_grouped_heart_no_CADS.html" title="Heart Volume (without CADS)"></iframe>
        </div>
      </div>
      <div class="card">
        <header><h3>Dice</h3><button class="btn" onclick="openPlot('dice_plots/Exclude_Models/Dice_scatter_interactive_heart_no_CADS.html')">Open</button></header>
        <div class="frame-wrap">
          <iframe data-autoscale src="dice_plots/Exclude_Models/Dice_scatter_interactive_heart_no_CADS.html" title="Heart Dice (without CADS)"></iframe>
        </div>
      </div>
    </div>
  </section>

  <footer>Â© SegVerify Interactive Plots</footer>

  <script>
    function openPlot(u){ window.open(u,'_blank','noopener,noreferrer'); }

    (function(){
      function autoscaleFrame(iframe){
        try{
          const doc = iframe.contentDocument || iframe.contentWindow.document;
          if (!doc) return;
          const graph = doc.querySelector('.plotly-graph-div') || doc.querySelector('#plot') || doc.body.firstElementChild;
          if (!graph) return;

          const contentW = graph.scrollWidth || graph.offsetWidth || 1200;
          const contentH = graph.scrollHeight || graph.offsetHeight || 800;
          const frameW = iframe.clientWidth; if (frameW <= 0) return;

          const scale = frameW / contentW;
          doc.documentElement.style.height = '100%';
          doc.body.style.margin = '0';
          doc.body.style.transformOrigin = '0 0';
          doc.body.style.transform = 'scale(' + scale + ')';
          iframe.style.height = Math.ceil(contentH * scale) + 'px';
        } catch(e){}
      }
      function initAutoscale(){
        const frames = Array.from(document.querySelectorAll('iframe[data-autoscale]'));
        const rescaleAll = () => frames.forEach(autoscaleFrame);
        frames.forEach(f => {
          f.addEventListener('load', () => autoscaleFrame(f));
          if (f.contentDocument && f.contentDocument.readyState === 'complete'){ autoscaleFrame(f); }
        });
        window.addEventListener('resize', rescaleAll);
      }
      if (document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', initAutoscale); }
      else { initAutoscale(); }
    })();
  </script>
</body>
</html>
